<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Глава 13</h1>
    <h1>Начало работы над проектом в среде IBM Rational Rose 2002</h1>
    <p>Процесс работы над проектом включает последовательную разработку канонических диаграмм UML, формирующих интегрированную модель системы. Несмотря на отсутствие строгих правил последовательности, можно использовать рекомендации RUP; предложенный в книге подход успешно применялся на практике.</p>
    <p>&nbsp;</p>
    <p>Концептуальный процесс разработки канонических диаграмм включает размещение графических элементов, установление связей между ними, а также их спецификацию и документирование согласно правилам UML. После завершения модели можно сгенерировать код на выбранном языке программирования, затем доработать его для создания исполняемых модулей, адаптированных под конкретную операционную среду и платформу.</p>
    <p>&nbsp;</p>
    <p>Технический процесс разработки диаграмм похож на работу в средах визуального программирования: разработчик выбирает элементы с помощью панели инструментов, размещает их на диаграмме и редактирует свойства в соответствии с нотацией UML.</p>
    <p>&nbsp;</p>
    <h1>13.1. Разработка диаграммы вариантов использования в среде IBM Rational Rose</h1>
    <p>Проект начинается с анализа задачи и создания диаграммы вариантов использования, отражающей функциональность системы. Пример &mdash; система управления банкоматом. Можно использовать мастер типовых проектов из меню "File" &rarr; "New".</p>
    <p><strong>&nbsp;</strong></p>
    <p><strong>Примечание</strong></p>
    <p>Отказавшись от мастера, вы получите чистый интерфейс с именем проекта "untitled". Чтобы изменить название, сохраните модель, например, как "ATM Model.mdl", после чего имя обновится в заголовке и в браузере проекта.</p>
    <p>&nbsp;</p>
    <p>IBM Rational Rose позволяет настроить параметры среды, такие как шрифты и цвет элементов, через меню "Tools" &rarr; "Options".</p>
    <p>&nbsp;</p>
    <p><strong>Примечание</strong></p>
    <p>Среда поддерживает символы кириллицы, но при генерации кода важно использовать символы языка программирования, чтобы избежать ошибок.</p>
    <p>&nbsp;</p>
    <p>Для разработки диаграммы вариантов использования модели необходимо</p>
    <p>активизировать соответствующую диаграмму в окне диаграммы. Это можно</p>
    <p>сделать различными способами.</p>
    <ul>
        <li>Раскрыть представление вариантов использования в браузере (Use Case View) и дважды щелкнуть на пиктограмме Main (Главная).</li>
        <li>Через пункт меню Browse -&gt; Use Case Diagram (Обзор -&gt; Диаграмма вариантов использования).</li>
        <li>Нажав соответствующую кнопку на стандартной панели инструментов</li>
    </ul>
    <p>&nbsp;</p>
    <p>Открывается окно с пустой диаграммой и панелью инструментов для её разработки. Кнопки содержат графические примитивы, а их назначение можно увидеть в подсказках.</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>На специальной панели инструментов по умолчанию присутствует только часть пиктограмм элементов, которые могут быть использованы для построения диаграммы. Добавить кнопки с пиктограммами других графических элементов, например, таких как бизнес-вариант использования</p>
    <p>((business use case), бизнес-флеер (business actor), сотрудник (business worker),</p>
    <p>или удалить ненужные кнопки можно с помощью настройки специальной панели инструментов. Диалоговое окно настройки удобно вызвать с помощью пункта контекстного меню Customize (Настройка) при позиционировании курсора на специальной панели инструментов.</p>
    <p>Для добавления необходимых кнопок на панель следует выделить их в левом окне со списком пиктограмм графических элементов, после чего нажать кнопку <strong>Добавить</strong> в центре диалогового окна. Для удаления ненужных кнопок с панели инструментов следует выделить их в правом окне со списком пиктограмм графических элементов, после чего нажать кнопку <strong>Удалить</strong></p>
    <p>в центре диалогового окна. Для восстановления набора пиктограмм по</p>
    <p>умолчанию можно нажать кнопку Сброс. После настройки специальной панели инструментов соответствующее окно следует закрыть нажатием на</p>
    <p>кнопку <strong>Закрыть</strong>.</p>
    <p>&nbsp;</p>
    <p><strong>Примечание</strong></p>
    <p>Открыть диалоговое окно настройки специальных панелей инструментов диаграмм можно с помощью операции главного меню Tools -&gt; Options (Инструменты -&gt; Параметры), раскрыв вкладку Toolbars (Панели инструментов) и нажав соответствующую кнопку (например, Use Case diagram) в группе опций Customize Toolbars (Настройка панелей инструментов).</p>
    <p>&nbsp;</p>
    <p>Напомним, что в качестве разрабатываемого проекта служит модель системы управления банкоматом.</p>
    <h1>13.1.1. Добавление актёра на диаграмму вариантов использования</h1>
    <p>Для добавления актера на диаграмму варианта использования нужно с помощью левой кнопки мыши нажать кнопку с изображением пиктограммы актера на специальной панели инструментов и щелкнуть левой кнопкой мыши на свободном месте рабочего листа диаграммы. На диаграмме появится изображение варианта использования с маркерами изменения его геометрических размеров и предложенным по умолчанию именем. Имя добавленного элемента может быть изменено разработчиком либо сразу</p>
    <p>после размещения элемента на диаграмме, либо в ходе последующей работы</p>
    <p>над проектом. По щелчку правой кнопкой мыши на выбранном элементе</p>
    <p>вызывается контекстное меню элемента, среди опций которого имеется</p>
    <p>пункт <strong>Open Specification</strong> (Открыть спецификацию). В этом случае активизируется диалоговое окно со специальными вкладками, в поля которых можно занести всю информацию по данному актеру.</p>
    <p>&nbsp;</p>
    <p><strong>Примечание</strong></p>
    <p>Открыть диалоговое окно спецификации графического элемента можно также</p>
    <p>двойным щелчком левой кнопкой мыши на изображение этого элемента на диаграмме. Следует заметить, что в среде IBM Rational Rose актер является классом, что следует учитывать при спецификации его свойств. В частности, для актера некорректно специфицировать атрибуты и операции, поскольку он является внешней по отношению к разрабатываемой системе сущностью.</p>
    <p>&nbsp;</p>
    <h1>13.1.2. Добавление варианта использования</h1>
    <p>Для добавления варианта использования на диаграмму нужно, с помощью</p>
    <p>левой кнопки мыши, нажать кнопку с изображением варианта использования на специальной панели инструментов и щелкнуть левой кнопкой мыши</p>
    <p>на свободном месте диаграммы. На диаграмме появится изображение вари-</p>
    <p>анта использования с маркерами изменения его геометрических размеров и</p>
    <p>предложенным по умолчанию именем.</p>
    <p>Для варианта использования можно также открыть диалоговое окно спецификации двойным щелчком левой кнопкой мыши на изображении этого</p>
    <p>элемента.</p>
    <p>&nbsp;</p>
    <h1>13.1.3. Добавление ассоциации</h1>
    <p>Для добавления ассоциации между актером и вариантом использования на</p>
    <p>диаграмму нужно, с помощью левой кнопки мыши, нажать на специальной</p>
    <p>панели инструментов кнопку с изображением пиктограммы направленной</p>
    <p>ассоциации, отпустить левую кнопку мыши, щелкнуть левой кнопкой мыши</p>
    <p>на изображении актера на диаграмме и отпустить ее на изображении вари-</p>
    <p>анта использования. В результате этих действий на диаграмме появится изо-</p>
    <p>брожение ассоциации, соединяющей актера с вариантом использования.</p>
    <p>При необходимости можно сделать направленную ассоциацию ненаправленной, для чего следует воспользоваться диалоговым окном свойств ассоциации (рис. 13.6). Открыть это окно можно двойным щелчком на изображении линии ассоциации на диаграмме, после чего убрать отметку строки выбора Navigable (Навигация) на вкладке Role A Detail (Детальные свойства концевой точки ассоциации А).</p>
    <p>Более подробно спецификация других свойств ассоциаций будет рассмотрен-</p>
    <p>на далее при разработке диаграммы классов в подразделе 13.2.</p>
    <p>&nbsp;</p>
    <p><strong><br /> </strong></p>
    <h1>13.1.4. Добавление отношения зависимости</h1>
    <p>Для добавления отношения зависимости между двумя вариантами использования на диаграмму необходимо, предварительно, добавить вариант использования проверка пин-кода. После чего нужно с помощью левой кнопки мыши нажать кнопку с изображением пиктограммы зависимости на специальной панели инструментов, отпустить левую кнопку мыши, щелкнуть левой кнопкой мыши на изображении варианта использования Снятие наличных по кредитной карточке на диаграмме и отпустить ее на изображении варианта использования Проверка пин-кода.</p>
    <p>В результате этих действий на диаграмме появится изображение отношения зависимости, соединяющего два выбранных варианта использования.</p>
    <p>Для указания дополнительного стереотипа &lt;&lt;include&gt;&gt; для добавленного</p>
    <p>отношения зависимости следует уже известным способом открыть диалог о-</p>
    <p>вое окно свойств этого отношения (рис. 13.8) и выбрать нужный стереотип</p>
    <p>из предлагаемого списка, после чего нажать кнопку <strong>Apply</strong> (Применить).</p>
    <p>При необходимости аналогичным образом могут быть добавлены на диаграмму вариантов использования отношения зависимости со стереотипом</p>
    <p>&lt;&lt;extend&gt;&gt;, которые применяются для моделирования исключений вариант-</p>
    <p>та использования.</p>
    <p>&nbsp;</p>
    <h1>13.1.5. Добавление текстового файла со сценарием варианта использования</h1>
    <p>Чтобы добавить текстовый файл (например, сценарий для снятия наличных по кредитной карте) к варианту использования:</p>
    <p>&nbsp;</p>
    <ol>
        <li>Выделите нужный вариант использования в браузере проекта.</li>
        <li>Щёлкните правой кнопкой мыши и выберите New &rarr; File.</li>
        <li>В открывшемся окне укажите имя предварительно созданного файла в MS Word.</li>
        <li>Нажмите кнопку Открыть. Пиктограмма добавленного файла отобразится под соответствующим вариантом использования.</li>
        <li>Чтобы отредактировать файл сценария, дважды щёлкните на его пиктограмме. Он откроется в MS Word.</li>
    </ol>
    <p>&nbsp;</p>
    <p>Для завершения создания диаграммы добавьте актёра "Банк", вариант использования "Получение справки о состоянии счёта" и необходимые связи.</p>
    <p>&nbsp;</p>
    <p>Диаграмму вариантов использования можно изменять, добавляя новые элементы или удаляя существующие. Для удаления элемента с диаграммы:</p>
    <p>&nbsp;</p>
    <ol>
        <li>Выделите его и нажмите клавишу Delete.</li>
        <li>Для полного удаления элемента из модели используйте пункт меню Edit &rarr; Delete from Model или сочетание клавиш Ctrl+D.</li>
    </ol>
    <p>&nbsp;</p>
    <p><strong>Примечание</strong></p>
    <p>При работе со связями на диаграмме вариантов использования следует помнить о назначении соответствующих связей в нотации языка UML. Речь идет о том, что если для двух элементов выбранный вид связи не является допустимым, то в большинстве случаев среда IBM Rational Rose 2002 сообщит об этом разработчику, и такая связь не будет добавлена на диаграмму. Разработку модели системы управления банкоматом продолжим построением следующего типа канонических диаграмм - диаграммы классов.</p>
    <p>&nbsp;</p>
    <h1>13.2. Разработка диаграммы классов в среде IBM Rational Rose</h1>
    <p>Диаграмма классов является основным логическим представлением модели</p>
    <p>и содержит детальную информацию о внутреннем устройстве объектно-</p>
    <p>ориентированной программной системы. Общие рекомендации по построению</p>
    <p>диаграммы классов были рассмотрены в главе 5. Активизировать рабочее</p>
    <p>окно диаграммы классов можно несколькими способами.</p>
    <ul>
        <li>Окно диаграммы классов появляется по умолчанию в рабочем окне диаграммы после создания нового проекта.</li>
        <li>Щелкнуть на кнопке с изображением диаграммы классов на стандартной панели инструментов.</li>
        <li>Раскрыть логическое представление (Logical View) в браузере и дважды щелкнуть на пиктограмме Main (Главная).</li>
        <li>Выполнить операцию главного меню Browse -&gt; Class Diagram (Обзор -&gt; Диаграмма классов).</li>
    </ul>
    <p>При этом появляется новое окно с чистым рабочим листом диаграммы</p>
    <p>классов и специальная панель инструментов, содержащая кнопки с изображением графических примитивов, необходимых для разработки диаграммы классов. Назначение отдельных кнопок панели можно узнать также из всплывающих подсказок.</p>
    <p>На специальной панели инструментов по умолчанию присутствует только</p>
    <p>часть пиктограмм элементов, которые могут быть использованы для построения диаграммы классов. Добавить кнопки с пиктограммами других графических элементов, таких как, например, отношение агрегации, шаблон, класс бизнес-сущность, организационное подразделение, или удалить ненужные кнопки можно с помощью настройки специальной панели инструментов. При этом диалоговое окно настройки можно вызвать аналогично другим панелям, с помощью пункта контекстного меню Customize (Hастройка) при позиционировании курсора на специальной панели инструментов.</p>
    <h1>13.2.1. Добавление класса на диаграмму классов</h1>
    <p>Для добавления класса на диаграмму классов нужно с помощью левой</p>
    <p>кнопки мыши нажать кнопку с изображением пиктограммы класса на специальной панели инструментов, отпустить левую кнопку мыши и щелкнуть</p>
    <p>левой кнопкой мыши на свободном месте рабочего листа диаграммы.</p>
    <p>На диаграмме появится изображение класса с маркерами изменения его</p>
    <p>геометрических размеров и предложенным по умолчанию именем, которое</p>
    <p>разработчику следует изменить.</p>
    <p>Хотя для рассматриваемой модели системы управления банкоматом диаграмма классов была построена в главе 5, разрабатываемая диаграмма классов несколько отличается от ранее построенной (рис. 5.22), главным образом, формой записи имен ее графических элементов.</p>
    <p><strong>Примечание</strong></p>
    <p>Поскольку предполагается программная реализация разрабатываемой модели,</p>
    <p>имена классов, атрибутов и операций записаны символами латиницы. Чтобы</p>
    <p>не затруднять визуальное восприятие диаграмм, в этом случае можно воспользоваться способом простой транслитерации соответствующих имен на русском. Именно этот вариант выбран для представления диаграммы классов системы управления банкоматом в книге.</p>
    <h1>13.2.2. Добавление атрибутов классов</h1>
    <p>Из всех графических элементов класс обладает максимальным набором</p>
    <p>свойств, главными из которых являются его атрибуты и операции. Добавить</p>
    <p>атрибут к созданному ранее классу можно одним из следующих способов:</p>
    <ul>
        <li>с помощью операции контекстного меню New Attribute (Новый атрибут) для класса, выделенного на диаграмме классов. В этом случае активизируется курсор ввода в области графического изображения класса на диаграмме;</li>
        <li>с помощью операции контекстного меню New -&gt; Attribute (Новый -&gt; Атрибут) для класса, выделенного в браузере проекта. В этом случае активизируется курсор ввода в области иерархического представления класса в браузере под именем соответствующего класса;</li>
        <li>с помощью операции контекстного меню Insert (Вставить), вызванного</li>
    </ul>
    <p>при позиционировании курсора в области открытой вкладки атрибутов</p>
    <p>в диалоговом окне свойств Class Specification соответствующего класса. Напомним, что открыть диалоговое окно свойств класса</p>
    <p>можно двойным щелчком левой кнопкой мыши на изображении этого</p>
    <p>класса на диаграмме или в браузере проекта.</p>
    <p>После добавления атрибута к классу ему присваивается по умолчанию имя</p>
    <p>name и некоторый квантор видимости. При этом видимость атрибутов и</p>
    <p>операций изображается в форме специальных пиктограмм или украшений.</p>
    <p>Используемые пиктограммы видимости изображаются перед именем соответствующего атрибута или операции и имеют следующий смысл.</p>
    <p>Для атрибутов классов можно задавать также тип данных и начальные значения, а также назначить стереотип из раскрывающегося списка.</p>
    <p>&nbsp;</p>
    <h1>13.2.3. Добавление операций классов</h1>
    <p>Добавить операцию к созданному ранее классу можно одним из следующих</p>
    <p>способов:</p>
    <ul>
        <li>с помощью операции контекстного меню New Operation (Новая операция) для класса, выделенного на диаграмме классов. В этом случае активизируется курсор ввода в области графического изображения класса на диаграмме;</li>
        <li>с помощью операции контекстного меню New -&gt; Operation (Новая -&gt; Операция) для класса, выделенного в браузере проекта. В этом случае активизируется курсор ввода в области иерархического представления класса в браузере под именем соответствующего класса;</li>
        <li>с помощью операции контекстного меню Insert (Вставить), вызванного при позиционировании курсора в области открытой вкладки операций в диалоговом окне свойств Class Specification соответствующего класса.</li>
    </ul>
    <p>После добавления операции к классу ей присваивается по умолчанию имя</p>
    <p>оpname и некоторый квантор видимости. Используемые пиктограммы видимости операций изображаются аналогично видимости атрибутов.</p>
    <p>Каждая из операций классов имеет собственное диалоговое окно свойств</p>
    <p>Operation Specification, которое может быть открыто по двойному щелчку на</p>
    <p>имени операции, на соответствующей вкладке свойств класса или на имени</p>
    <p>этой операции в браузере проекта. Для отдельных операций выбранного класса можно задавать: тип возвращаемого результата, аргументы и их тип, стереотип, а также определить протокол и размер, задать исключительные ситуации, специфицировать пред- и постусловий, а также целый ряд других свойств, детальное рассмотрение которых возможно только в контексте конкретно выбранного языка реализации проекта.</p>
    <p>&nbsp;</p>
    <h1>13.2.4. Добавление отношений на диаграмму классов</h1>
    <p>Добавление на диаграмму классов отношений между классами типа ассоциации, зависимости, агрегации, композиции, реализации и обобщения</p>
    <p>выполняется следующим образом. На специальной панели инструментов</p>
    <p>выбирается требуемый тип отношения щелчком по кнопке с соответствующим изображением. Если отношение направленное, то на диаграмме классов надо выделить первый элемент отношения (источник, от которого исходит стрелка) и, не отпуская нажатую левую кнопку мыши, переместить ее</p>
    <p>указатель ко второму элементу отношения (приемник, к которому направлена стрелка). После перемещения ко второму элементу кнопку мыши следует отпустить, а на диаграмму классов будет добавлено новое отношение.</p>
    <p><strong>Примечание</strong></p>
    <p>Следует заметить, что по умолчанию на специальной панели инструментов</p>
    <p>диаграммы классов может отсутствовать кнопка с пиктограммой агрегации.</p>
    <p>В этом случае необходимо предварительно добавить ее на панель инструментов описанным ранее способом. Впрочем, для изображения отношения агрегации можно вначале изобразить обычную ассоциацию, после чего, открыв окно ее свойств на вкладке деталей соответствующего конца ассоциации, выставить отметку в строке выбора Aggregate (Аrрегация).</p>
    <p>Для изображения отношения композиции можно сначала изобразить обычную ассоциацию, после чего, открыв окно ее свойств на вкладке деталей</p>
    <p>соответствующего конца ассоциации, выставить отметку в строке выбора</p>
    <p>Aggregate (Агрегация) и выбрать опцию By Value (По значению) в секции</p>
    <p>Containment (Включение атрибутов). Если же отношение ненаправленное (двунаправленное), то порядок выбора</p>
    <p>классов для этого отношения произвольный. Для отношений можно определить кратность каждого из концов, задать имя и стереотип, использовать ограничения и роли, а также некоторые другие свойства. Доступ к диалоговому окну свойств отношений можно получить после выделения линии этого отношения на диаграмме классов или в браузере проекта и двойного щелчка левой кнопки мыши.</p>
    <p>Для окончательного построения диаграммы классов рассматриваемого при-</p>
    <p>мера следует описанным ранее способом добавить оставшиеся классы и ассоциации, а также специфицировать стереотипы, атрибуты и операции этих</p>
    <p>классов. Построенная таким образом диаграмма классов будет иметь следующий вид. На изображенной диаграмме классов выбран текстовый способ изображения стереотипов классов, при котором стереотип записывается в угловых кавычках выше имени соответствующего класса. Средство IBM Rational Rose 2002</p>
    <p>позволяет также изображать стереотипы в форме графических изображений (как в браузере проекта), в форме пиктограммы в верхней секции</p>
    <p>изображения класса на диаграмме или вообще отказаться от изображения</p>
    <p>стереотипов. Изменить изображение стереотипа для выбранного класса можно, например, с помощью операции контекстного Options -&gt; Stereotype Display (Параметры -&gt; Изображение стереотипов). Выполнение этой операции можно предложить читателям в качестве упражнения.</p>
    <p>&nbsp;</p>
    <h1>13.3. Разработка диаграммы кооперации в среде IBM Rational Rose</h1>
    <p>Диаграмма кооперации является разновидностью диаграммы взаимодействия и в контексте языка UML описывает динамический аспект взаимодействия объектов при реализации отдельных вариантов использования. Общие рекомендации по построению диаграммы кооперации были рассмотрены в главе 6. Активизировать рабочее окно диаграммы кооперации можно несколькими способами:</p>
    <ul>
        <li>щелкнуть на кнопке с изображением диаграммы взаимодействия на стандартной панели инструментов и выбрать для построения диаграмму кооперации;</li>
        <li>выполнить операцию главного меню Browse -&gt; Interaction Diagram (Обзор -&gt; Диаграмма взаимодействия) и выбрать для построения диаграмму кооперации;</li>
        <li>выполнить операцию контекстного меню New -&gt; Collaboration Diagram (новая -&gt; Диаграмма кооперации) для логического представления или представления вариантов использования в браузере проекта.</li>
    </ul>
    <p>При этом появляется новое окно с чистым рабочим листом диаграммы кооперации и специальная панель инструментов, содержащая кнопки с изображением графических примитивов, необходимых для разработки диаграммы кооперации. Назначение отдельных кнопок панели можно</p>
    <p>узнать из всплывающих подсказок. На специальной панели инструментов по умолчанию присутствует практически все пиктограммы элементов, которые могут быть использованы для построения диаграммы. В модели она соответствует варианту использования Снятие наличных по кредитной карточке и размещается в представлении вариантов использования (Use Case View).</p>
    <p>В общем случае работа с диаграммой кооперации состоит в добавлении или</p>
    <p>удалении объектов и сообщений, а также заданием и изменением их</p>
    <p>свойств. При этом изменения, вносимые в диаграмму кооперации, автоматически вносятся в диаграмму последовательности, что можно увидеть в любой момент, активизировав последнюю нажатием клавиши &lt;F5&gt;.</p>
    <p>&nbsp;</p>
    <h1>13.3.1. Добавление объекта на диаграмму кооперации</h1>
    <p>Добавить объект на диаграмму кооперации можно стандартным образом</p>
    <p>с помощью соответствующей кнопки на специальной панели инструментов.</p>
    <p>Однако, в случае наличия построенной диаграммы классов (как в нашем</p>
    <p>случае), более удобным представляется следующий способ. В браузере проекта выделить необходимый класс и, удерживая нажатой левую кнопку мыши, перетащить изображение пиктограммы класса из браузера на свободное место рабочего листа диаграммы. В результате этих действий на диаграмме кооперации появится изображение объекта с именем класса и маркерами изменения его геометрических размеров. По умолчанию каждый добавляемый объект считается анонимным. При необходимости можно задать собственное имя объекта, для чего уже известным способом (например, двойным щелчком на изображении объекта на диаграмме) следует вызвать диалоговое окно свойств объекта. Как видно из рассмотрения этого окна свойств, для объекта выбранного класса можно задавать собственное имя объекта, особенности его реализации и множественность экземпляров.</p>
    <p>&nbsp;</p>
    <h1>13.3.2. Добавление связи</h1>
    <p>Для добавления связи между предварительно размещенными на диаграмме объектами нужно с помощью левой кнопки мыши нажать кнопку с изображением связи на специальной панели инструментов, отпустить левую кнопку мыши, щелкнуть левой кнопкой мыши на изображении одного объекта на диаграмме и отпустить ее на изображении второго объекта. В результате этих действий на диаграмме появится изображение связи, например, соединяющей объект класса Клиент (актером) с объектом класса UstroistvoChteniya. По умолчанию каждая добавляемая связь считается анонимной. При необходимости можно задать имя связи, для чего уже известным способом (например, двойным щелчком на изображении объекта на диаграмме) следует вызвать диалоговое окно свойств связи. Кроме имени связи можно также задать: имя ассоциации, видимость соответствующей пары объектов и наличие общих ролей. Однако более важной представляется следующая вкладка Messages (Сообщения), служащая для спецификации сообщений, передаваемых между соответствующей парой объектов.</p>
    <p>&nbsp;</p>
    <h1>13.3.3. Добавление сообщения</h1>
    <p>Добавить сообщения на диаграмму кооперации можно несколькими способами. Стандартный способ заключается в использовании кнопки с пиктограммой сообщения на специальной панели инструментов. В этом случае необходимо левой кнопкой мыши нажать кнопку с изображением прямого или обратного сообщения на специальной панели инструментов, отпустить левую кнопку мыши, щелкнуть левой кнопкой мыши на изображении линии связи на диаграмме и отпустить ее. В результате этих действий на диаграмме рядом с линией связи появится изображение стрелки сообщения. Кроме имени сообщения можно также задать стереотип синхронизации и частоту передачи. Для этой цели следует воспользоваться диалоговым окне свойств сообщений, которое в свою очередь можно открыть двойным щелчком на имени сообщения в списке рассматриваемой вкладки Messages (Сообщения).</p>
    <p><strong>Примечание</strong></p>
    <p>Следует заметить, что среди свойств сообщений в среде IBM Rational Rose 2002 отсутствует сторожевое условие. Этот факт может несколько огорчить разработчиков, поскольку в общем случае может привести к увеличению количества диаграмм кооперации в модели проекта. В качестве выхода из данной ситуации можно рекомендовать указать соответствующее сторожевое условие в качестве предусловия соответствующей операции класса.</p>
    <p>&nbsp;</p>
    <p>Для завершения построения диаграммы кооперации рассматриваемого при-</p>
    <p>мера следует описанным ранее способом добавить оставшиеся объекты, связи и сообщения. Диаграмма кооперации, описывающая реализацию типичного хода событий варианта использования Снятие наличных по кредитной карточке системы управления банкоматом, будет иметь следующий вид. Следует обратить внимание, что вместо текстовых стереотипов ролей объектов в среде IBM Rational Rose локальность и глобальность визуализируется с помощью небольших маркеров в форме черных квадратов с буквами "l" и "G" на границе изображения прямоугольника объекта. При необходимости можно изменить порядок следования сообщений и их спецификацию, а также установить дополнительную синхронизацию сообщений и связать с сообщениями примечания. Указанные действия, а также построение других диаграмм кооперации, описывающих реализации других вариантов использования, предлагается выполнить читателям самостоятельно в качестве упражнения.</p>
    <h1>13.4. Разработка диаграммы последовательности в среде IBM Rational Rose</h1>
    <p>Диаграмма последовательности является другой формой визуализации взаимодействия в модели и, как и диаграмма кооперации, оперирует объектами и сообщениями. Общие рекомендации по построению диаграммы последовательности были рассмотрены в главе 7. Особенность работы в среде IBM Rational Rose заключается в том, что этот вид канонической диаграммы может быть создан автоматически после построения диаграммы кооперации</p>
    <p>и нажатия клавиши &lt;F5&gt;. С помощью этой же клавиши осуществляется переключение между диаграммами последовательности и кооперации в модели.</p>
    <p>Однако в отдельных случаях бывает удобно начать построение диаграмм</p>
    <p>взаимодействия с диаграммы последовательности. В этом случае активизи-</p>
    <p>ровать рабочее окно диаграммы последовательности можно несколькими</p>
    <p>способами:</p>
    <ul>
        <li>щелкнуть на кнопке с изображением диаграммы взаимодействия на стандартной панели инструментов и выбрать для построения диаграмму последовательности;</li>
        <li>Выполнить операцию главного меню Browse -&gt; Interaction Diagram (Обзор -&gt; Диаграмма взаимодействия) и выбрать для построения диаграмму последовательности;</li>
        <li>Выполнить операцию контекстного меню New -&gt; Sequense Diagram (Новая -&gt; Диаграмма последовательности) для логического представления или представления вариантов использования в браузере проекта.</li>
    </ul>
    <p>При этом появляется новое окно с чистым рабочим листом диаграммы</p>
    <p>классов и специальная панель инструментов, содержащая кнопки с изображением графических примитивов, необходимых для разработки диаграммы последовательности. Назначение отдельных кнопок панели</p>
    <p>можно узнать из всплывающих подсказок. На специальной панели инструментов по умолчанию присутствует практически все пиктограммы элементов, которые могут быть использованы для построения диаграммы последовательности.</p>
    <p><strong>Примечание</strong></p>
    <p>Из дополнительных пиктограмм графических элементов, возможно, на специальную панель инструментов следует добавить лишь сообщение типа вызова процедуры (см. последнюю строку табл. 13.4). Относительно пиктограммы асинхронного сообщения в форме полустрелки следует заметить, что в текущей версии языка UML 1.5 этот элемент отсутствует.</p>
    <h1>13.4.1. Добавление объекта на диаграмму последовательности</h1>
    <p>Добавить объект на диаграмму последовательности можно как стандартным</p>
    <p>образом с помощью соответствующей кнопки на специальной панели инструментов, так и более удобным способом - с помощью перетаскивания</p>
    <p>изображения пиктограммы класса из браузера на свободное место рабочего</p>
    <p>листа диаграммы.</p>
    <p>В результате этих действий на диаграмме кооперации появится изображение</p>
    <p>объекта с именем класса, маркерами изменения его геометрических размеров и вертикальной пунктирной линией, означающей линию жизни этого объекта.</p>
    <p>Так же, как и для диаграммы кооперации, для диаграммы последовательности каждый добавляемый объект по умолчанию считается анонимным. При необходимости можно задать собственное имя объекта, для чего уже известным способом (например, двойным щелчком на изображении объекта на диаграмме) следует вызвать диалоговое окно свойств объекта, аналогично объектам диаграммы кооперации.</p>
    <p>&nbsp;</p>
    <h1>13.4.2. Добавление сообщения</h1>
    <p>Для добавления сообщения между предварительно размещенными на диаграмме объектами нужно с помощью левой кнопки мыши нажать кнопку</p>
    <p>с изображением сообщения на специальной панели инструментов, отпустить левую кнопку мыши, щелкнуть левой кнопкой мыши на изображении линии жизни одного объекта на диаграмме и отпустить ее на изображении линии жизни второго объекта.</p>
    <p>В результате этих действий на диаграмме появится изображение сообщения,</p>
    <p>например, передаваемого от объекта класса клиент (актером) объекту класса</p>
    <p>UstroistvoChteniya.</p>
    <p>Имя сообщения можно выбрать из выпадающего списка операций соответствующего класса-приемника. При необходимости можно задать новую операцию и добавить ее к описанию соответствующего класса.</p>
    <p>Построение диаграммы последовательности сводится к добавлению или к удалению отдельных объектов и сообщений, а также к их спецификации.</p>
    <p>Доступ к спецификации свойств этих элементов организован либо через</p>
    <p>контекстное меню, либо с помощью операции главного меню Browse -&gt;</p>
    <p>Specification (Обзор -&gt; Спецификация). При добавлении сообщений на диаграмму последовательности они получают по умолчанию свой номер</p>
    <p>в последовательности.</p>
    <p><strong>Примечание</strong></p>
    <p>По умолчанию нумерация сообщений на диаграмме последовательности может быть отключена. При необходимости показать номера сообщений следует выполнить операцию главного меню Tools -&gt; Options (Инструменты -&gt; Параметры), открыть вкладку Diagram (Диаграмма) и выставить отметку выбора строки Sequence numbering (Нумерация сообщений на диаграмме последовательности).</p>
    <p>&nbsp;</p>
    <p>Для завершения построения диаграммы последовательности рассматриваемого</p>
    <p>примера следует описанным ранее способом добавить оставшиеся объекты и</p>
    <p>сообщения. Диаграмма последовательности реализации типичного хода событий варианта использования Снятие наличных по кредитной карточке системы управления банкоматом может иметь следующий вид.</p>
    <p>В этом случае достаточно нажать левую кнопку мыши на стрелке соответствующего сообщения и, не отпуская ее, перетащить вертикально вверх или вниз данное сообщение. Дополнительно можно добавлять потоки данных и определять устойчивость объектов на основе активизации соответствующих спецификаций.</p>
    <p>Указанные действия, а также построение диаграмм последовательности,</p>
    <p>описывающих реализации других вариантов использования, предлагается</p>
    <p>выполнить читателям самостоятельно в качестве упражнения.</p>
    <p>После окончания сеанса работы над проектом выполненную работу необходимо сохранить в файле проекта с расширением MDL. Это можно сделать через меню File -&gt; Save (Файл -&gt; Coxpанить) или File -&gt; Save As (Файл -&gt; Сохранить как). При этом вся информация о проекте, включая диаграммы и</p>
    <p>спецификации элементов, будет сохранена в одном файле.</p>
    <p><strong>Примечание</strong></p>
    <p>Вообще говоря, в ходе работы над проектом рекомендуется периодически выполнять сохранение проекта, поскольку невольное зависание операционной системы или средства IBM Rational Rose могут привести к потере всех внесенных изменений в модель со времени ее последнего сохранения. Впрочем, можно установить в настройках опцию автоматического сохранения проекта через определенные промежутки времени. Эта опция по умолчанию отключена.</p>
    <p>Для завершения проекта системы управления банкоматом нужно разработать оставшиеся типы канонических диаграмм, из которых необходимой для</p>
    <p>генерации программного кода является лишь диаграмма компонентов. Тем</p>
    <p>не менее, из методических соображений разрабатываемая модель будет со-</p>
    <p>держать все типы диаграмм, включая диаграммы состояний, деятельности и</p>
    <p>развертывания, особенности построения которых в среде IBM Rational Rose</p>
    <p>рассматриваются в <em>главе 14.</em></p>
    <p>&nbsp;</p>
</body>
</html>